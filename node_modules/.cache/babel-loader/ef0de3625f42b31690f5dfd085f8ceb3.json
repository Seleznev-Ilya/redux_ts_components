{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/dell304/Selieznov/todo React/react_typescript/src/componenst/TextInput/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Form, Field } from \"react-final-form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTodo } from \"../../actions\";\nimport { Input } from \"../Input\";\nimport { ItemInput } from \"../Input\";\nlet state = {\n  data: {\n    title: \"\",\n    titleItem: \"\"\n  }\n};\n\nconst Textinput = ({\n  placeHolder,\n  action,\n  actionArguments,\n  toggleTitleState,\n  deleteHendler\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const todoList = useSelector(store => store.todoList);\n  const [inputTitle, setInputTitle] = useState(\"\");\n  state = {\n    data: {\n      title: \"...\",\n      titleItem: actionArguments ? actionArguments.payload : \"...\"\n    }\n  };\n\n  const handelOnChange = value => {\n    setInputTitle(prev => prev + value);\n    console.log(inputTitle);\n  };\n\n  const handelOnSubmit = values => {\n    console.log(\"state\", state);\n    console.log(\"values\", values);\n    console.log(actionArguments ? actionArguments.payload : \"---\"); // setInputTitle(values.title);\n    // setInputTitle(\"\");\n    // state = { data: { title: \"\" } };\n\n    if (values.title.trim() === \"\") {\n      state = {\n        data: {\n          title: \"...\",\n          // titleItem: actionArguments ? actionArguments.payload : \"+++\",\n          titleItem: inputTitle\n        }\n      };\n    } // if (values.title.trim() === \"\" || Object.keys(values).length === 0) {\n\n\n    if (!values.titleItem === false) {\n      // if (inputTitle === \"\") {\n      if (deleteHendler) deleteHendler();\n      return;\n    }\n\n    if (actionArguments) {\n      console.log(\"это тут\", values.titleItem);\n      dispatch(action(values.titleItem, // actionArguments ? actionArguments.payload : values.titleItem,\n      actionArguments.id));\n    } else if (values.title.trim() !== \"\") {\n      console.log(\"а не, тут\");\n      dispatch(addTodo(values.title));\n    }\n\n    if (toggleTitleState) toggleTitleState(); // Object.keys(values).length === 0\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handelOnSubmit,\n      initialValues: state.data,\n      render: ({\n        form,\n        values\n      }) => /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => (e.preventDefault(e), console.log(actionArguments), Object.keys(values).length !== 0 && handelOnSubmit(values), form.reset()),\n        children: !actionArguments ? /*#__PURE__*/_jsxDEV(Field, {\n          name: \"title\",\n          component: Input,\n          placeholder: actionArguments ? inputTitle : placeHolder,\n          onBlur: e => (e.preventDefault(e), console.log(actionArguments), Object.keys(values).length !== 0 && handelOnSubmit(values), form.reset())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Field, {\n          name: \"titleItem\",\n          component: ItemInput // onChange={(val: any) => handelOnChange(val.nativeEvent.data)}\n          ,\n          placeholder: actionArguments ? \"\" : placeHolder,\n          onBlur: e => (e.preventDefault(e), console.log(actionArguments), Object.keys(values).length !== 0 && handelOnSubmit(values), form.reset())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Textinput, \"caemVFaJ01EmCv5qnceFBtGoR98=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Textinput;\nexport default Textinput;\n\nvar _c;\n\n$RefreshReg$(_c, \"Textinput\");","map":{"version":3,"sources":["/home/dell304/Selieznov/todo React/react_typescript/src/componenst/TextInput/index.tsx"],"names":["React","useState","Form","Field","useDispatch","useSelector","addTodo","Input","ItemInput","state","data","title","titleItem","Textinput","placeHolder","action","actionArguments","toggleTitleState","deleteHendler","dispatch","todoList","store","inputTitle","setInputTitle","payload","handelOnChange","value","prev","console","log","handelOnSubmit","values","trim","id","form","e","preventDefault","Object","keys","length","reset"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Field } from \"react-final-form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addTodo } from \"../../actions\";\nimport { Input } from \"../Input\";\nimport { ItemInput } from \"../Input\";\n\ninterface Props {\n  placeHolder: string;\n  action: (...a: any) => { type: string; payload: string; id?: number };\n  actionArguments?: {\n    payload: string;\n    id: number;\n  };\n  toggleTitleState?: () => void;\n  deleteHendler?: () => any;\n}\nlet state = { data: { title: \"\", titleItem: \"\" } };\nconst Textinput = ({\n  placeHolder,\n  action,\n  actionArguments,\n  toggleTitleState,\n  deleteHendler,\n}: Props) => {\n  const dispatch = useDispatch();\n  const todoList = useSelector((store: any) => store.todoList);\n  const [inputTitle, setInputTitle] = useState(\"\");\n  state = {\n    data: {\n      title: \"...\",\n      titleItem: actionArguments ? actionArguments.payload : \"...\",\n    },\n  };\n  const handelOnChange = (value: any) => {\n    setInputTitle((prev) => prev + value);\n    console.log(inputTitle);\n  };\n  const handelOnSubmit = (values: any) => {\n    console.log(\"state\", state);\n    console.log(\"values\", values);\n    console.log(actionArguments ? actionArguments.payload : \"---\");\n\n    // setInputTitle(values.title);\n    // setInputTitle(\"\");\n    // state = { data: { title: \"\" } };\n\n    if (values.title.trim() === \"\") {\n      state = {\n        data: {\n          title: \"...\",\n          // titleItem: actionArguments ? actionArguments.payload : \"+++\",\n          titleItem: inputTitle,\n        },\n      };\n    }\n    // if (values.title.trim() === \"\" || Object.keys(values).length === 0) {\n    if (!values.titleItem === false) {\n      // if (inputTitle === \"\") {\n      if (deleteHendler) deleteHendler();\n      return;\n    }\n    if (actionArguments) {\n      console.log(\"это тут\", values.titleItem);\n\n      dispatch(\n        action(\n          values.titleItem,\n          // actionArguments ? actionArguments.payload : values.titleItem,\n          actionArguments.id\n        )\n      );\n    } else if (values.title.trim() !== \"\") {\n      console.log(\"а не, тут\");\n      dispatch(addTodo(values.title));\n    }\n\n    if (toggleTitleState) toggleTitleState();\n\n    // Object.keys(values).length === 0\n  };\n\n  return (\n    <div>\n      <Form\n        onSubmit={handelOnSubmit}\n        initialValues={state.data}\n        render={({ form, values }) => (\n          <form\n            onSubmit={(e: any) => (\n              e.preventDefault(e),\n              console.log(actionArguments),\n              Object.keys(values).length !== 0 && handelOnSubmit(values),\n              form.reset()\n            )}\n          >\n            {!actionArguments ? (\n              <Field<string>\n                name=\"title\"\n                component={Input}\n                placeholder={actionArguments ? inputTitle : placeHolder}\n                onBlur={(e: any) => (\n                  e.preventDefault(e),\n                  console.log(actionArguments),\n                  Object.keys(values).length !== 0 && handelOnSubmit(values),\n                  form.reset()\n                )}\n              />\n            ) : (\n              <Field<string>\n                name=\"titleItem\"\n                component={ItemInput}\n                // onChange={(val: any) => handelOnChange(val.nativeEvent.data)}\n                placeholder={actionArguments ? \"\" : placeHolder}\n                onBlur={(e: any) => (\n                  e.preventDefault(e),\n                  console.log(actionArguments),\n                  Object.keys(values).length !== 0 && handelOnSubmit(values),\n                  form.reset()\n                )}\n              />\n            )}\n          </form>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default Textinput;\n"]},"metadata":{},"sourceType":"module"}